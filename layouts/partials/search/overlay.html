{{/* saved as overylay.html in tokyo-mistakes/layouts/partials/search */}}
<div
  id="search-overlay"
  class="search"
  role="dialog"
  aria-modal="true"
  aria-hidden="true"
  hidden
>
  <div class="search__box">
    <div class="search__head">
      <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
      <input
        type="search"
        placeholder="Searchâ€¦"
        aria-label="Search"
        autocomplete="off"
      />
      <button class="search__close" aria-label="Close">
        <i class="fa-solid fa-xmark" aria-hidden="true"></i>
      </button>
    </div>
    <div
      class="search__results"
      role="listbox"
      aria-label="Search results"
    ></div>
  </div>
</div>

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
<script src="https://cdn.jsdelivr.net/npm/lunr/lunr.min.js"></script>

<style>
  .search {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.55);
    display: grid;
    place-items: start center;
    padding-top: 15vh;
    z-index: 70;
  }
  .search[aria-hidden="true"] {
    display: none;
  }
  .search__box {
    width: min(920px, 94vw);
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    box-shadow: 0 25px 40px rgba(0, 0, 0, 0.15);
  }
  .search__head {
    display: flex;
    gap: 8px;
    align-items: center;
    padding: 12px 14px;
    border-bottom: 1px solid var(--color-border);
  }
  .search__head input {
    flex: 1;
    font-size: 1rem;
    border: none;
    outline: none;
    background: transparent;
    color: var(--color-text);
  }
  .search__results {
    max-height: 55vh;
    overflow: auto;
  }
  .search__item {
    display: block;
    padding: 10px 14px;
    border-bottom: 1px solid var(--color-border);
    text-decoration: none;
    color: inherit;
  }
  .search__item:hover {
    background: rgba(127, 127, 127, 0.08);
  }
  .search__title {
    font-weight: 600;
  }
  .search__desc {
    font-size: 0.9rem;
    color: var(--color-muted);
    margin-top: 4px;
  }
  .search__empty {
    padding: 12px 14px;
    color: var(--color-muted);
  }
</style>
