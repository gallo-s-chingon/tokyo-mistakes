{{- /*
  Simplecast Podcast Player Shortcode

  Provide episode ID as parameter.

  Example: {{< podcast-simplecast "abc123-def456-ghi789" >}}

  To get episode ID from Simplecast:
  1. Go to episode in Simplecast dashboard
  2. Click "Share & Embed"
  3. Extract episode ID from embed code URL
*/ -}}

{{- $episodeId := .Get 0 -}}
{{- $height := .Get "height" | default "200" -}}
{{- $theme := .Get "theme" | default "light" -}}
{{- $playerWidth := .Site.Params.podcast.playerWidth | default 0.8 -}}
{{- $widthPercent := mul $playerWidth 100 -}}

{{- if $episodeId -}}
<div class="podcast-player podcast-player-simplecast" style="width:{{ $widthPercent }}%;max-width:{{ $widthPercent }}%;margin:0 auto 50px auto;">
  <iframe
    frameborder="no"
    scrolling="no"
    seamless
    src="https://player.simplecast.com/{{ $episodeId }}?dark={{ if eq $theme "dark" }}true{{ else }}false{{ end }}"
    width="100%"
    height="{{ $height }}">
  </iframe>
</div>
{{- else -}}
  <p><strong>Error:</strong> Simplecast episode ID required. Provide episode ID as parameter.
{{- end -}}
