{{- /*
  Spreaker Podcast Player Shortcode

  Provide episode ID as parameter.

  Example: {{< podcast-spreaker "12345678" >}}

  To get episode ID from Spreaker:
  1. Go to episode page on Spreaker
  2. Click "Embed" button
  3. Extract episode ID from embed code
*/ -}}

{{- $episodeId := .Get 0 -}}
{{- $height := .Get "height" | default "200" -}}
{{- $theme := .Get "theme" | default "light" -}}
{{- $playerWidth := .Site.Params.podcast.playerWidth | default 0.8 -}}
{{- $widthPercent := mul $playerWidth 100 -}}

{{- if $episodeId -}}
<div class="podcast-player podcast-player-spreaker" style="width:{{ $widthPercent }}%;max-width:{{ $widthPercent }}%;margin:0 auto 50px auto;">
  <iframe
    src="https://widget.spreaker.com/player?episode_id={{ $episodeId }}&theme={{ $theme }}&playlist=false&playlist-continuous=false&autoplay=false&live-autoplay=false&chapters-image=true&episode_image_position=right&hide-logo=false&hide-likes=false&hide-comments=false&hide-sharing=false&hide-download=true"
    width="100%"
    height="{{ $height }}px"
    frameborder="0">
  </iframe>
</div>
{{- else -}}
  <p><strong>Error:</strong> Spreaker episode ID required. Provide episode ID as parameter.
{{- end -}}
