{{- /*
  YouTube Video Player Shortcode

  Provide video ID as parameter.

  Example: {{< podcast-youtube "dQw4w9WgXcQ" >}}

  To get video ID from YouTube:
  1. Copy video URL: https://www.youtube.com/watch?v=[ID]
  2. Extract the ID after "v="
*/ -}}

{{- $videoId := .Get 0 -}}
{{- $height := .Get "height" | default "315" -}}
{{- $playerWidth := .Site.Params.podcast.playerWidth | default 0.8 -}}
{{- $widthPercent := mul $playerWidth 100 -}}

{{- if $videoId -}}
<div class="podcast-player podcast-player-youtube" style="width:{{ $widthPercent }}%;max-width:{{ $widthPercent }}%;margin:0 auto 50px auto;">
  <iframe
    width="100%"
    height="{{ $height }}"
    src="https://www.youtube.com/embed/{{ $videoId }}"
    title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen
    loading="lazy">
  </iframe>
</div>
{{- else -}}
  <p><strong>Error:</strong> YouTube video ID required. Provide video ID as parameter.
{{- end -}}
