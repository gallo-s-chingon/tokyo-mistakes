{{/* saved as social-share.html in tokyo-mistakes/layouts/_partials */}}
{{ if .Site.Params.socialSharing }}
<div class="social-share">
  <h3 class="social-share-title">Share this {{ if .IsPage }}post{{ else }}page{{ end }}</h3>
  <div class="social-share-buttons">
    {{ $url := .Permalink }}
    {{ $title := .Title }}
    {{ $description := .Description | default .Summary }}

    {{ $siteDefault := .Site.Params.sharePreset | default "text" }}
    {{ $preset := .Params.sharePreset | default $siteDefault }}

    {{ $presets := .Site.Params.sharePresets }}
    {{ $networks := slice }}
    {{ if and $presets (index $presets $preset) }}
      {{ $networks = index $presets $preset }}
    {{ else }}
      {{ $networks = slice "facebook" "twitter" "email" }}
    {{ end }}

    {{ range $networks }}
      {{ $network := . }}
      {{ if eq $network "facebook" }}
        <a href="https://www.facebook.com/sharer/sharer.php?u={{ $url | urlquery }}" class="share-btn share-facebook" target="_blank" rel="noopener" aria-label="Share on Facebook">
          <i class="fab fa-facebook-f"></i><span>Facebook</span>
        </a>
      {{ else if or (eq $network "twitter") (eq $network "x") }}
        <a href="https://twitter.com/intent/tweet?url={{ $url | urlquery }}&text={{ $title | urlquery }}" class="share-btn share-twitter" target="_blank" rel="noopener" aria-label="Share on Twitter/X">
          <i class="fab fa-twitter"></i><span>Twitter/X</span>
        </a>
      {{ else if eq $network "reddit" }}
        <a href="https://reddit.com/submit?url={{ $url | urlquery }}&title={{ $title | urlquery }}" class="share-btn share-reddit" target="_blank" rel="noopener" aria-label="Share on Reddit">
          <i class="fab fa-reddit-alien"></i><span>Reddit</span>
        </a>
      {{ else if eq $network "linkedin" }}
        <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ $url | urlquery }}" class="share-btn share-linkedin" target="_blank" rel="noopener" aria-label="Share on LinkedIn">
          <i class="fab fa-linkedin-in"></i><span>LinkedIn</span>
        </a>
      {{ else if eq $network "pinterest" }}
        <a href="https://pinterest.com/pin/create/button/?url={{ $url | urlquery }}&description={{ $title | urlquery }}" class="share-btn share-pinterest" target="_blank" rel="noopener" aria-label="Share on Pinterest">
          <i class="fab fa-pinterest"></i><span>Pinterest</span>
        </a>
      {{ else if eq $network "email" }}
        <a href="mailto:?subject={{ $title | urlquery }}&body={{ $description | urlquery }}%0A%0A{{ $url | urlquery }}" class="share-btn share-email" aria-label="Share via Email">
          <i class="fas fa-envelope"></i><span>Email</span>
        </a>
      {{ else if eq $network "whatsapp" }}
        <a href="https://wa.me/?text={{ $title | urlquery }}%20{{ $url | urlquery }}" class="share-btn share-whatsapp" target="_blank" rel="noopener" aria-label="Share on WhatsApp">
          <i class="fab fa-whatsapp"></i><span>WhatsApp</span>
        </a>
      {{ else if eq $network "telegram" }}
        <a href="https://telegram.me/share/url?url={{ $url | urlquery }}&text={{ $title | urlquery }}" class="share-btn share-telegram" target="_blank" rel="noopener" aria-label="Share on Telegram">
          <i class="fab fa-telegram-plane"></i><span>Telegram</span>
        </a>
      {{ else if eq $network "instagram" }}
        <button class="share-btn share-instagram" onclick="navigator.clipboard && navigator.clipboard.writeText('{{ $url }}')" aria-label="Copy link for Instagram">
          <i class="fab fa-instagram"></i><span>Instagram</span>
        </button>
      {{ end }}
    {{ end }}
  </div>
</div>
{{ end }}
