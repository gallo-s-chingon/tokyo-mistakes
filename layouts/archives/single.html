{{/* saved as single.html in tokyo-mistakes/layouts/archives */}} {{ define
"main" }}
<div class="archives-page">
  <div class="container">
    <header class="archives-header">
      <h1 class="archives-title">{{ .Title }}</h1>
      <p class="archives-description">{{ .Description }}</p>
    </header>

    <div class="archives-content">
      {{ $pages := where site.RegularPages "Type" "not in" (slice "page"
      "about") }} {{ range $pages.GroupByDate "2006" }}
      <div class="archive-year">
        <h2 class="year-heading">{{ .Key }}</h2>

        {{ range .Pages.GroupByDate "January" }}
        <div class="archive-month">
          <h3 class="month-heading">{{ .Key }}</h3>

          <ul class="archive-posts">
            {{ range .Pages }}
            <li class="archive-post">
              <span class="post-date">{{ .Date.Format "Jan 02" }}</span>
              <a href="{{ .Permalink }}" class="post-title">{{ .Title }}</a>
              <span class="post-type">{{ .Type | title }}</span>
            </li>
            {{ end }}
          </ul>
        </div>
        {{ end }}
      </div>
      {{ end }}
    </div>
  </div>
</div>
{{ end }}
