{{/* saved as single.html in tokyo-mistakes/layouts/blog */}}
{{ define "main" }}
<article class="post post--blog">
  {{ if .Params.post_image }}
  <div class="post-hero" style="background-image: url('{{ .Params.post_image }}');">
    <div class="post-hero-content">
      <h1 class="post-title">{{ .Title }}</h1>
      <div class="post-meta">
        <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "January 2, 2006" }}</time>
        {{ if .Params.categories }}
        <span class="post-meta-divider">â€¢</span>
        <span class="post-meta-item">
          {{ range $index, $category := .Params.categories }}
            {{ if $index }}, {{ end }}
            <a href="/categories/{{ $category | urlize }}">{{ $category }}</a>
          {{ end }}
        </span>
        {{ end }}
      </div>
    </div>
  </div>
  {{ end }}

  <div class="container">
    <div class="post-content">
      {{ if not .Params.post_image }}
        {{ partial "post-header.html" . }}
      {{ end }}
      
      {{ partial "post-toc.html" . }}

      <div class="post-body">{{ .Content }}</div>

      {{ partial "social-share.html" . }}
      {{ partial "comments.html" . }}
      {{ partial "related-posts.html" . }}
    </div>
  </div>
</article>
{{ end }}
